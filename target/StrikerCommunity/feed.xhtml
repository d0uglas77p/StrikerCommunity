<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns="http://www.w3.org/1999/xhtml">

<h:head>
    <title>Striker Community</title>
    <h:outputStylesheet name="css/feed.css"/>
</h:head>

<body>
<div>
    <h:form>
        <!-- MENU DE NAVEGAÇÃO -->
        <p:panelGrid columns="2">
            <h:panelGrid style="margin-left: 60px;">
                <p:graphicImage name="images/logo.png" width="340" height="60"/>
            </h:panelGrid>

            <h:panelGrid style="margin-left: -70px;">
                <p:menubar orientation="horizontal" autoDisplay="false">
                    <p:menuitem value="Início"
                                action="#{navegacaoBean.irInicio}"/>

                    <p:submenu label="Comunidade">
                        <p:menuitem value="Feed" action="#{navegacaoBean.irFeed}"/>
                        <p:menuitem value="Fórum" action="#{navegacaoBean.irForum}"/>
                    </p:submenu>

                    <p:submenu label="Counter Strike 2">
                        <p:menuitem value="Utilitários" action="#{navegacaoBean.irUtilitario}"/>
                        <p:menuitem value="Comandos" action="#{navegacaoBean.irComandos}"/>
                    </p:submenu>

                    <p:menuitem value="Meu Perfil"
                                action="#{navegacaoBean.irMeuPerfil}"/>

                </p:menubar>

                <p:panelGrid style="margin-left: 460px; margin-top: -61px;">
                    <p:commandButton value="Sair" icon="pi pi-fw pi-sign-out" styleClass="ui-button-info"
                                     action="#{navegacaoBean.irLogin}"/>
                </p:panelGrid>
            </h:panelGrid>
        </p:panelGrid>
        <!-- MENU DE NAVEGAÇÃO -->
    </h:form>

    <h:form id="feedForm">
        <p:growl id="messages" showDetail="true"/>

        <br/>

        <p:panel header="Publicação" class="panel-publicacao">
            <p:textEditor id="mensagem"
                          value="#{feedBean.mensagem}"
                          widgetVar="editorWidget"
                          width="600"/>
            <br/>

            <h:panelGrid columns="2">
                <p:outputLabel style="margin-left: 300px;"
                               styleClass="placeholder-text"
                               value="Interaja com a comunidade, retire suas dúvidas, compartilhe os seus Highlights..."/>

                <p:commandButton value="Publicar"
                                 style="left: 35px;"
                                 action="#{feedBean.publicar}"
                                 update=":feedForm:postagensContainer :feedForm:mensagem :feedForm:messages"/>

                <p:commandButton value="Limpar Postagens"
                                 style="left: 35px;"
                                 action="#{feedBean.limparPostagens}"
                                 update=":feedForm:postagensContainer"/>
            </h:panelGrid>
        </p:panel>

        <br></br>

        <p:commandButton id="updateFeedButton"
                         icon="pi pi-refresh"
                         style="left: 640px;"
                         action="#{feedBean.atualizarFeed}"
                         update=":feedForm:postagensContainer :feedForm:messages"/>

        <p:tooltip for="updateFeedButton"
                   value="Atualizar o feed de postagens"
                   showEffect="clip"
                   hideEffect="fold"/>

        <br></br>

        <p:dataList value="#{feedBean.postagens}" var="postagem" itemType="div" rows="10" paginator="true" paginatorPosition="bottom">
            <p:panel styleClass="postagem-panel" style="margin-top: 10px;">
                <h:outputText value="#{postagem}"
                              escape="false"
                              styleClass="postagem-content"/>
            </p:panel>
        </p:dataList>

        <p:dataScroller id="dataScroller"
                        value="#{feedBean.postagens}"
                        var="postagem"
                        itemType="div"
                        rows="10"
                        paginator="true"
                        paginatorPosition="bottom"
                        scroll="true"
                        step="10">
            <p:panel styleClass="postagem-panel" style="margin-top: 10px;">
                <h:outputText value="#{postagem}"
                              escape="false"
                              styleClass="postagem-content"/>
            </p:panel>
        </p:dataScroller>
    </h:form>
</div>
</body>

</html>
